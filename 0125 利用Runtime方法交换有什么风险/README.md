## 利用Runtime方法交换有什么风险



1. 第一个风险是，需要在 +load 方法中进行方法交换。因为如果在其他时候进行方法交换，难以保证另外一个线程中不会同时调用被交换的方法，从而导致程序不能按预期执行。
2. 第二个风险是，被交换的方法必须是当前类的方法，不能是父类的方法，直接把父类的实现拷贝过来不会起作用。父类的方法必须在调用的时候使用，而不是方法交换时使用。
3. 第三个风险是，交换的方法如果依赖了 cmd，那么交换后，cmd 发生了变化，就会出现各种奇怪问题，而且这些问题还很难排查。特别是交换了系统方法，你无法保证系统方法内部是否依赖了 cmd。
4. 第四个风险是，方法交换命名冲突。如果出现冲突，可能会导致方法交换失败。



更多信息，可以参看 [Stackoverflow上讨论](https://stackoverflow.com/questions/5339276/what-are-the-dangers-of-method-swizzling-in-objective-c)