坏味道行列中首当其冲的就是Duplicated Code，如果你在一个以上的地点看到相同的程序结构，那么可以肯定：设法将它们合而为一，程序会变得更好。

最单纯的Duplicated Code就是同一个类的两个函数含有相同的表达式。这个时候你需要做的就是采用Extract Method（110）提炼出重复的代码，然后让这两个地点都调用被提炼出来的那一段代码。

另一种常见情况就是“两个互为兄弟的子类内含相同的表达式”。要避免这种情况，只需要对两个类都使用Extract Method，然后再对被提炼出来的代码使用Pull Up Method（322），将它推入超类内。如果代码之间只是类似，并非完全相同，那么就得运用Extract Method将相似部分和差异部分割开，构成单独一个函数。然后你可能发现可以运用Form Template Method 获得一个Template Method设计模式。如果有些函数以不同的算法做相同的事，你可以选择其中较清晰的一个，并使用Substitute Algorithm将其他函数的算法替换掉。

如果两个毫不相关的类出现Duplicated Code，你应该考虑对其中一个使用Extract Class（149），将重复代码提炼到一个独立类中，然后在另一个类内使用这个新类。